# üöÄ LysoData-Miner: –ë—ã—Å—Ç—Ä–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å Docker Hub

## ‚ú® –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–°–æ–∑–¥–∞–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è LysoData-Miner —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–æ—Ç–æ–≤—ã—Ö –æ–±—Ä–∞–∑–æ–≤ Docker Hub:

### üì¶ –§–∞–π–ª—ã —Å–∏—Å—Ç–µ–º—ã

1. **docker-compose.hub.yml** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è Docker Hub
2. **env.hub.example** - –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
3. **scripts/build_and_push.sh** - –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤
4. **scripts/deploy_hub.sh** - –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
5. **Makefile.hub** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ make –∫–æ–º–∞–Ω–¥—ã
6. **DOCKER_HUB_DEPLOYMENT.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### üê≥ Docker Hub –æ–±—Ä–∞–∑—ã

- **gimmyhat/lysodata-backend** - FastAPI backend + PostgreSQL –¥—Ä–∞–π–≤–µ—Ä
- **gimmyhat/lysodata-frontend** - React + Nginx  

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥—Ö–æ–¥–∞

‚úÖ **–£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è** - —Ç–æ–ª—å–∫–æ 3 —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚úÖ **–ë—ã—Å—Ç—Ä–æ—Ç–∞** - –Ω–µ—Ç —Å–±–æ—Ä–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ
‚úÖ **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** - –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–±—Ä–∞–∑—ã –≤–µ–∑–¥–µ
‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ª–µ–≥–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π
‚úÖ **–ê–≤—Ç–æ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## ‚ö° –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –ø—É–±–ª–∏–∫—É–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é

```bash
# 1. –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–æ–≤
./scripts/build_and_push.sh v1.2.0

# 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
make -f Makefile.hub remote-files
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å 3 —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä:
scp deploy-package/* user@server:/opt/lysodata/

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
cd /opt/lysodata
./deploy_hub.sh
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

```bash
# 1. –ò–∑–º–µ–Ω–∏—Ç—å –≤–µ—Ä—Å–∏—é –≤ .env
BACKEND_VERSION=v1.2.0
FRONTEND_VERSION=v1.2.0

# 2. –û–±–Ω–æ–≤–∏—Ç—å
./deploy_hub.sh restart
```

## üîß –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### Makefile –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è
make -f Makefile.hub build-and-push VERSION=v1.0.0

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
make -f Makefile.hub hub-deploy

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
make -f Makefile.hub hub-status
make -f Makefile.hub hub-logs
make -f Makefile.hub hub-restart

# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
make -f Makefile.hub remote-files
```

### –ü—Ä—è–º—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
./scripts/build_and_push.sh v1.0.0

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./scripts/deploy_hub.sh start
./scripts/deploy_hub.sh status
./scripts/deploy_hub.sh logs
```

## üìÅ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞

–î–ª—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω—É–∂–Ω—ã —Ç–æ–ª—å–∫–æ:

```
deploy-package/
‚îú‚îÄ‚îÄ docker-compose.hub.yml    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ .env                      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–∏–∑ env.hub.example)
‚îî‚îÄ‚îÄ deploy_hub.sh             # –°–∫—Ä–∏–ø—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
```

## üåê –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã:

- **Frontend**: http://localhost:3000 
- **Backend API**: http://localhost:8000
- **API Docs**: http://localhost:8000/docs
- **Database**: localhost:5434
- **pgAdmin**: http://localhost:8080

## üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É PostgreSQL
2. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –∏ –∏–Ω–¥–µ–∫—Å—ã  
3. ‚úÖ –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω—ã)

## üîÑ Workflow –¥–ª—è –∫–æ–º–∞–Ω–¥—ã

### –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫

```bash
# 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ
make dev

# 2. –°–±–æ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—Ä–∞–∑–æ–≤  
make -f Makefile.hub build-images

# 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
make -f Makefile.hub hub-deploy

# 4. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–∞ Docker Hub
make -f Makefile.hub push-images
```

### DevOps / –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä

```bash
# 1. –ü–æ–ª—É—á–∏—Ç—å —Ñ–∞–π–ª—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
make -f Makefile.hub remote-files

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω
vi deploy-package/.env

# 3. –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
scp deploy-package/* server:/opt/lysodata/
ssh server 'cd /opt/lysodata && ./deploy_hub.sh'
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ .env

```bash
# –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏!
POSTGRES_PASSWORD=your_secure_password_here

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ—Ä—Ç—ã –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
DB_PORT=5434
BACKEND_PORT=8000  
WEB_PORT=3000
```

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω

1. üîí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS (Nginx/Traefik proxy)
2. üî• –ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall
3. üíæ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ backup'—ã
4. üîÑ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ health checks

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û–±—Ä–∞–∑—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å
make -f Makefile.hub check-hub

# –°–æ–±—Ä–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ
make -f Makefile.hub build-images
```

### –ü–æ—Ä—Ç—ã –∑–∞–Ω—è—Ç—ã
```bash
# –ò–∑–º–µ–Ω–∏—Ç—å –≤ .env
DB_PORT=5435
BACKEND_PORT=8001
WEB_PORT=3001
```

### –ë–∞–∑–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs lysodata_init

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞
./deploy_hub.sh clean
./deploy_hub.sh start
```

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ Docker Hub —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è LysoData-Miner –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É–ø—Ä–æ—â–µ–Ω–∏–µ** —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥** –∫ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é
- **–ë—ã—Å—Ç—Ä—ã–µ –∏—Ç–µ—Ä–∞—Ü–∏–∏** —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å** –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é** –≤—Å–µ—Ö —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

–ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ 